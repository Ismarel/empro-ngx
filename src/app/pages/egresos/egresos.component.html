<div class="row end-sm">
    <div class="col-12">
        <h1 class="titlletext">
            <i class="fa fa-sign-out iconEngrane"></i> Egresos</h1>
    </div>

    <div class="col-12">
        <!-- <button class="btn btn-opcion btn-raised float-right font"> <i class="fa fa-cog"></i> Opciones</button> -->
        <div class="button">
            <div class="btn-group" role="group">
                <button id="btnGroupDrop2" class="btn btn-colorblue btn-raised esp font" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="fa fa-plus"></i> Agregar Egresos</button>

                <div class="dropdown-menu" aria-labelledby="btnGroupDrop2" id="dropdown-egreso">
                    <a class="dropdown-item" data-toggle="modal" href="" data-target="#EgresoSComprobante" (click)="limpiaECCFDI()">Agregar Egreso con CFDI</a>
                    <a class="dropdown-item" data-toggle="modal" href="" data-target="#EgresoSComprobante" (click)="limpiaAESC()">Agregar Egreso sin Comprobante</a>
                    <a class="dropdown-item" data-toggle="modal" href="" data-target="#EgresoSComprobante" (click)="limpiaOE()">Agregar Otro Egreso</a>

                    <!-- <a class="dropdown-item" href="#">Dropdown link</a> -->
                </div>
            </div>

            <div class="dropdown righta">
                <button class="btn btn-option btn-raised font dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="fa fa-cog"></i> Opciones
                </button>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <a class="dropdown-item" (click)="exportarExcel()">Exportar<br>Egresos</a>
                </div>
            </div>
        </div>

    </div>
</div>
<hr>
<br>
<br>

<div class="container-fluid">
    <div class="table-responsive">
        <table class="table table-striped table-vcenter table-bordered tableDatosGenerales">
            <thead class="">
                <tr>
                    <td colspan="11">
                        <div class="top_table row padSearch">
                            <div class="col-xs-8 col-sm-8 col-md-4">
                                <form [formGroup]="formularioFilterQuery" novalidate>
                                    <div class="input-group">
                                        <span class="input-group-addon">
                                            <i class="fa fa-search"></i>
                                        </span>
                                        <input type="search" class="form-control" placeholder="Buscar en esta lista..." formControlName="queryIngresosEgresos">
                                    </div>
                                </form>
                            </div>
                            <div class="col-xs-4 col-sm-4 col-md-4 offset-md-4">
                                <div class="float-right">
                                    <select name="usuarios_data_length" class="form-control" [(ngModel)]="rowsOnPage" (change)="onChangeSize()">
                                        <!--<option [value]="2">2</option>-->
                                        <option [value]="10">10</option>
                                        <option [value]="20">20</option>
                                        <option [value]="30">30</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="clearfix"></div>
                    </td>
                </tr>
                <tr class="bor_inf">
                    <th>
                        <sorter-table by='concepto' [currentSort]="sortBy" (onSort)="onSort($event)">Concepto</sorter-table>
                    </th>
                    <th>
                        <sorter-table by='tipoComprobante' [currentSort]="sortBy" (onSort)="onSort($event)">Tipo Comprobante</sorter-table>
                    </th>
                    <th>
                        <sorter-table by='fecha' [currentSort]="sortBy" (onSort)="onSort($event)">Fecha</sorter-table>
                    </th>
                    <th>
                        <sorter-table by='nombreProveedor' [currentSort]="sortBy" (onSort)="onSort($event)">Receptor</sorter-table>
                    </th>
                    <th>
                        <sorter-table by='rfcProveedor' [currentSort]="sortBy" (onSort)="onSort($event)">RFC Receptor</sorter-table>
                    </th>
                    <th>
                        <sorter-table by='subtotal' [currentSort]="sortBy" (onSort)="onSort($event)">Subtotal</sorter-table>
                    </th>
                    <th>
                        <sorter-table by='iva' [currentSort]="sortBy" (onSort)="onSort($event)">Impuetos</sorter-table>
                    </th>
                    <th>
                        <sorter-table by='total' [currentSort]="sortBy" (onSort)="onSort($event)">Total</sorter-table>
                    </th>
                    <th>
                        <sorter-table by='monto' [currentSort]="sortBy" (onSort)="onSort($event)">Pago</sorter-table>
                    </th>

                    <th style="min-width: 100px">Archivos</th>
                    <th style="min-width: 100px">Acciones</th>
                </tr>
            </thead>
            <tbody class="tableDatosGenerales">
                <tr class="bor" *ngFor="let item of data |paginate: { itemsPerPage: rowsOnPage, currentPage: page, totalItems: totalIngresoEgreso }">

                    <td scope="row">{{item.concepto.nombre}}</td>
                    <td>{{item.tipoComprobante.nombre}}</td>
                    <td>{{item.fecha | date}}</td>
                    <td>{{item.nombreProveedor}}</td>
                    <td>{{item.rfcProveedor}}</td>
                    <td>{{item.subtotal}}</td>
                    <td>{{item.iva}}</td>
                    <td>{{item.total}}</td>
                    <td>{{item.monto}}
                        <button type="button" (click)="pago(item)" class="btn btn-secondary btn-colorblue btn-sm" data-toggle="modal" data-target="#EgresoSComprobante">
                            <i class="fa fa-dollar"></i>
                        </button>
                    </td>
                    <td class="text-center">

                        <button type="button" class="btn btn-secondary btn-sm">PDF</button>
                        <button type="button" class="btn btn-secondary btn-sm">
                            <i class="fa fa-file-text-o"></i>
                        </button>
                        <button type="button" class="btn btn-secondary btn-sm">XML</button>
                    </td>
                    <td class="text-center">

                        <button type="button" (click)="prepareEdit(item)" class="btn btn-secondary btn-sm" data-toggle="modal" data-target="#EgresoSComprobante">
                            <i class="fa fa-pencil"></i>
                        </button>
                        <button type="button" (click)="onClick_elim(item)" class="btn btn-secondary btn-sm" data-toggle="modal" data-target="#eliminar">
                            <i class="fa fa-trash"></i>
                        </button>
                    </td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="11">
                        <!--Init Paginacion-->
                        <nav aria-label="Page navigation example">
                            <pagination-template #p="paginationApi" (pageChange)="pageChanged($event)">
                                <ul class="pagination float-left padNum">
                                    <li class="page-item">
                                        <span> 1 - </span>
                                        <span> {{rowsOnPage}} </span>
                                        <span> de </span>
                                        <span> {{totalIngresoEgreso}} </span>
                                    </li>
                                </ul>
                                <ul class="pagination float-right">

                                    <li class="page-item" [class.active]="p.isFirstPage()">
                                        <a class="page-link  boton espa" *ngIf="!p.isFirstPage()" (click)="p.previous()" aria-label="Previous">
                                            <span aria-hidden="true">&laquo;</span>
                                            <span class="sr-only">Previous</span>
                                        </a>
                                    </li>

                                    <li class="page-item" *ngFor="let page of p.pages" [class.active]="p.getCurrent() === page.value">
                                        <a class="page-link redonditos boton espa" (click)="p.setCurrent(page.value)"> {{ page.label }}</a>
                                    </li>

                                    <li class="page-item" [class.active]="p.isLastPage()">
                                        <a class="page-link  boton espa" *ngIf="!p.isLastPage()" (click)="p.next()" aria-label="Next">
                                            <span aria-hidden="true">&raquo;</span>
                                            <span class="sr-only">Next</span>
                                        </a>
                                    </li>

                                </ul>
                            </pagination-template>
                        </nav>
                        <!--Fin Paginacion-->
                    </td>
                </tr>
            </tfoot>
        </table>
    </div>
    <div class="clearfix"></div>
</div>


<!--Fin tabla-->

<!--MODAL AGREGAR/EDITAR CON ARCHIVO CFDI-->
<!--div class="modal fade" id="Egresos" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title" id="exampleModalLabel">{{!isEdit?'Agregar Egreso con CFDI':'Editar Cliente'}}</h1>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <form [formGroup]="formularioIngresoEgreso" (ngSubmit)="onSubmitEgresos()" novalidate>
                <div class="modal-body">
                    <hr>
                    <dl class="row">
                        <dt class="col-sm-12">
                            <div class="form-group">
                                Tipo de Comprobante
                                <font color="red">*</font>

                                <autocomplete-generic (onIdSelected)="onSelectedTComprobanteIngresos($event)" entidad='tipoComprobante' [enabled]="true" textplaceholder='Buscar...'
                                #autocompleteTComprobanteIngreso></autocomplete-generic>
                                <div *ngIf="formularioIngresoEgreso.controls.tipoComprobante.errors?.required && !formularioIngresoEgreso.controls.tipoComprobante.pristine"
                                    class="alert alert-danger">
                                    Tipo de Comprobante es requerido
                                </div>
                            </div>
                        </dt>

                        <dt class="col-sm-12">
                            <div class="form-group">
                                ¿Qué tipo de egreso es?
                                <font color="red">*</font>
                            </div>
                        </dt>
                        <dt class="col-sm-6">
                            <div class="form-group">
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios" (change)="newFunction(1)"> Gasto Genereal
                                    </label>
                                </div>
                            </div>
                        </dt>
                        <dt class="col-sm-6">
                            <div class="form-group">
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios" (change)="newFunction(2)"> Compra para inventario
                                    </label>
                                </div>
                            </div>
                        </dt>

                    </dl>
                    <hr>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-option" data-dismiss="modal">Cancelar</button>
                    <button type="submit" class="btn btn-colorblue" [disabled]="!formularioIngresoEgreso.valid">{{!ischeck?'Guardar':'Siguiente'}}</button>
                </div>
            </form>
        </div>
    </div>
</div-->



<!--MODAL AGREGAR SIGUIENTE CON ARCHIVO CFDI-->
<!--div class="modal fade" id="inventario" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title" id="exampleModalLabel">Agregar Existencias a Inventario</h1>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <form novalidate>
                <div class="modal-body">
                    <hr>

                    <table class="table table-striped table-vcenter table-bordered tableDatosGenerales">
                        <thead class="">

                            <tr class="bor_inf">
                                <th>
                                    Concepto
                                </th>
                                <th>
                                    Clave del producto
                                </th>
                                <th>
                                    Cantidad
                                </th>
                                <th>
                                    Agregar a tu inventario
                                </th>
                            </tr>
                        </thead>
                        <tbody class="tableDatosGenerales">
                            <tr class="bor">

                                <td scope="row">1</td>
                                <td>2</td>
                                <td>3</td>
                                <td>4</td>

                            </tr>
                        </tbody>
                    </table>

                    <hr>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-option" data-dismiss="modal">Cancelar</button>
                    <button type="submit" class="btn btn-colorblue" [disabled]="!formularioIngresoEgreso.valid">Guardar</button>
                </div>
            </form>
        </div>
    </div>
</div-->

<!--MODAL AGREGAR/EDITAR SIN ARCHIVO CFDI-->
<div class="modal fade" id="EgresoSComprobante" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title" id="exampleModalLabel1" *ngIf="this.ischeck == 1">Agregar egreso con CFDI</h1>
                <h1 class="modal-title" id="exampleModalLabel2" *ngIf="this.ischeck == 2">Agregar egreso sin comprobante</h1>
                <h1 class="modal-title" id="exampleModalLabel3" *ngIf="this.ischeck == 3">Agregar existencias a inventario</h1>
                <h1 class="modal-title" id="exampleModalLabel4" *ngIf="this.ischeck == 4">Agregar otro egreso</h1>
                <h1 class="modal-title" id="exampleModalLabel4" *ngIf="this.ischeck == 5">Editar Egreso</h1>
                <h1 class="modal-title" id="exampleModalLabel4" *ngIf="this.ischeck == 6">Registro Pago</h1>


                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <form [formGroup]="formularioIngresoEgreso" (ngSubmit)="enviarFormularios(this.ischeck)" novalidate>
                <div class="modal-body">
                    <hr>
                    <dl class="row">
                        <dt class="col-sm-12">
                            <div class="form-group" id="tipoComprobante">
                                Tipo de Comprobante
                                <font color="red">*</font>
                                <!-- <input type="text" formControlName="tipoComprobante" class="form-control" id="tipoComprobante" > -->
                                <autocomplete-generic (onIdSelected)="onSelectedTComprobanteIngresos($event)" entidad='tipoComprobante' [enabled]="true" textplaceholder='Buscar...' #autocompleteTComprobanteIngreso></autocomplete-generic>

                            </div>
                        </dt>

                        <dt class="col-sm-12">
                            <div class="form-group" id="otrosEgresostext">
                                Tipo de Comprobante
                                <font color="red">*</font>
                            </div>
                        </dt>

                        <dt class="col-sm-12">
                            <div class="form-group" id="otrosEgresostp">
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="form-check-input" type="radio" (change)="otrosEgresos(12)" value="12" name="otrosEgresostp"> Préstamos
                                    </label>
                                    <br>
                                    <label class="form-check-label">
                                        <input class="form-check-input" type="radio" (change)="otrosEgresos(13)" value="13" name="otrosEgresostp"> Anticipos
                                    </label>
                                    <br>
                                    <label class="form-check-label">
                                        <input class="form-check-input" type="radio" (change)="otrosEgresos(14)" value="14" name="otrosEgresostp"> Impuestos
                                    </label>
                                    <br>
                                    <label class="form-check-label">

                                        <input class="form-check-input" type="radio" (change)="otrosEgresos(15)" value="15" name="otrosEgresostp"> Intereses/Comisiones
                                    </label>
                                </div>
                            </div>
                        </dt>

                        <dt class="col-sm-12">
                            <div class="form-group" id="gridRadios">
                                ¿Qué tipo de egreso es?
                                <font color="red">*</font>
                            </div>
                        </dt>

                        <dt class="col-sm-6">
                            <div class="form-group" id="gridRadios1">
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios" (change)="newFunction(1)"> Gasto Genereal
                                    </label>
                                </div>
                            </div>
                        </dt>
                        <dt class="col-sm-6">
                            <div class="form-group" id="gridRadios2">
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios" (change)="newFunction(2)"> Compra para inventario
                                    </label>
                                </div>
                            </div>
                        </dt>

                        <dt class="col-sm-12">
                            <div class="form-group" id="fecha">
                                Fecha
                                <font color="red">*</font>
                                <input type="date" class="form-control require-if-active" data-require-pair="#choice-animals-cats" formControlName="fecha">
                                <div *ngIf="formularioIngresoEgreso.controls.fecha.errors?.required && !formularioIngresoEgreso.controls.fecha.pristine" class="alert alert-danger">
                                    Fecha es requerido
                                </div>
                            </div>
                        </dt>

                        <dt class="col-sm-12">
                            <div class="form-group" id="nombreProveedor">
                                Nombre del Proveedor
                                <font color="red">*</font>
                                <input type="text" formControlName="nombreProveedor" class="form-control" id="nombreProveedorD">
                                <div *ngIf="formularioIngresoEgreso.controls.nombreProveedor.errors?.required && !formularioIngresoEgreso.controls.nombreProveedor.pristine" class="alert alert-danger">
                                    Nombre del Proveedor es requerido
                                </div>
                            </div>
                        </dt>

                        <dt class="col-sm-12">
                            <div class="form-group" id="rfcProveedor">
                                RFC del Proveedor
                                <font color="red">*</font>
                                <input type="text" formControlName="rfcProveedor" class="form-control" id="rfcProveedor">
                                <div *ngIf="formularioIngresoEgreso.controls.rfcProveedor.errors?.required && !formularioIngresoEgreso.controls.rfcProveedor.pristine" class="alert alert-danger">
                                    RFC del Proveedor es requerido
                                </div>
                            </div>
                        </dt>

                        <dt class="col-sm-12">
                            <div class="form-group" id="subtotal">
                                Subtotal
                                <font color="red">*</font>
                                <input type="number" formControlName="subtotal" class="form-control" id="subtotal">
                                <div *ngIf="formularioIngresoEgreso.controls.subtotal.errors?.required && !formularioIngresoEgreso.controls.subtotal.pristine" class="alert alert-danger">
                                    Subtotal es requerido
                                </div>
                            </div>
                        </dt>

                        <dt class="col-sm-12">
                            <div class="form-group" id="iva">
                                Iva
                                <font color="red">*</font>
                                <input type="number" formControlName="iva" class="form-control" id="iva">
                                <div *ngIf="formularioIngresoEgreso.controls.iva.errors?.required && !formularioIngresoEgreso.controls.iva.pristine" class="alert alert-danger">
                                    Iva es requerido
                                </div>
                            </div>
                        </dt>

                        <dt class="col-sm-12">
                            <div class="form-group" id="total">
                                <p *ngIf="this.ischeck == 6"> Importe Total a pagar <font color="red">*</font>
                                </p>
                                <p *ngIf="this.ischeck != 6"> Total <font color="red">*</font>
                                </p>

                                <input type="number" formControlName="total" class="form-control" id="totalD">
                                <div *ngIf="formularioIngresoEgreso.controls.total.errors?.required && !formularioIngresoEgreso.controls.total.pristine" class="alert alert-danger">
                                    Monto Total es requerido
                                </div>
                            </div>
                        </dt>

                        <dt class="col-sm-3">
                            <div class="form-group" id="imss" style='display:none;'>
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="form-check-input" type="radio" name="impuesto" id="impuesto" (change)="impuestos(0)"> IMSS
                                    </label>
                                </div>
                            </div>
                        </dt>

                        <dt class="col-sm-3">
                            <div class="form-group" id="sat" style='display:none;'>
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="form-check-input" type="radio" name="impuesto" id="impuesto" (change)="impuestos(1)"> SAT
                                    </label>
                                </div>
                            </div>
                        </dt>

                        <dt class="col-sm-3">
                            <div class="form-group" id="tesoreria" style='display:none;'>
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="form-check-input" type="radio" name="impuesto" id="impuesto" (change)="impuestos(2)"> Tesorería
                                    </label>
                                </div>
                            </div>
                        </dt>

                        <dt class="col-sm-3">
                            <div class="form-group" id="infonavit" style='display:none;'>
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="form-check-input" type="radio" name="impuesto" id="impuesto" (change)="impuestos(3)"> INFONAVIT
                                    </label>
                                </div>
                            </div>
                        </dt>

                        <dt class="col-sm-12">
                            <div class="form-group" id="trabajador">
                                Deudor (nómina)
                                <font color="red">*</font>
                                <!--<font color="red">*</font>
                                <input type="text" formControlName="concepto" class="form-control" id="concepto" >
                                <div *ngIf="formularioIngresoEgreso.controls.concepto.errors?.required && !formularioIngresoEgreso.controls.concepto.pristine"
                                    class="alert alert-danger">
                                    Concepto es requerido
                                </div>-->

                                <autocomplete-generic (onIdSelected)="onSelectedTrabajador($event)" entidad='trabajador' [enabled]="true" textplaceholder='Buscar...' #autocompleteTrabajador></autocomplete-generic>

                            </div>
                        </dt>

                        <dt class="col-sm-12">
                            <div class="form-group" id="concepto">
                                Concepto
                                <font color="red">*</font>
                                <!--<font color="red">*</font>
                                <input type="text" formControlName="concepto" class="form-control" id="concepto" >
                                <div *ngIf="formularioIngresoEgreso.controls.concepto.errors?.required && !formularioIngresoEgreso.controls.concepto.pristine"
                                    class="alert alert-danger">
                                    Concepto es requerido
                                </div>-->

                                <autocomplete-generic (onIdSelected)="onSelectedTConceptos($event)" id="conceptoD" entidad='concepto' [enabled]="true" textplaceholder='Buscar...' #autocompleteTConceptos></autocomplete-generic>

                            </div>
                        </dt>

                        <dt class="col-sm-6">
                            <div class="form-group" id="montoPagado" style='display:none;'>
                                <p *ngIf="this.ischeck == 6"> Monto Pagado <font color="red">*</font>
                                </p>


                                <input type="number" formControlName="monto" class="form-control" id="montoPagadoD">

                            </div>
                        </dt>
                        <dt class="col-sm-6">
                            <div class="form-group" id="fechapago" style='display:none;'>
                                <p *ngIf="this.ischeck == 6">Fecha <font color="red">*</font>
                                </p>

                                <input type="date" formControlName="fecha" class="form-control" id="fechaD">
                            </div>
                        </dt>







                        <dt class="col-sm-4">
                            <div class="form-group" id="transferencia">
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="form-check-input" type="radio" name="tipoPago" id="tipoPago" (change)="tipoPago('transferencia')"> Transferencia
                                    </label>
                                </div>
                            </div>
                        </dt>
                        <dt class="col-sm-4">
                            <div class="form-group" id="chequebox">
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="form-check-input" type="radio" name="tipoPago" id="tipoPago" (change)="tipoPago('cheque')"> Cheque
                                    </label>
                                </div>
                            </div>
                        </dt>

                        <dt class="col-sm-4">
                            <div class="form-group" id="efectivo">
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="form-check-input" type="radio" name="tipoPago" id="tipoPago" (change)="tipoPago('efectivo')"> Efectivo
                                    </label>
                                </div>
                            </div>
                        </dt>

                        <dt class="col-sm-12" id="cuenta" style='display:none;'>
                            <div class="form-group">
                                Cuenta
                                <font color="red">*</font>
                                <autocomplete-generic (onIdSelected)="onCuentaSelected($event)" entidad='cuenta' [enabled]="true" textplaceholder='Buscar Cuenta' #autocompleteCuenta required></autocomplete-generic>
                                <div *ngIf="formularioIngresoEgreso.controls.cuenta.errors?.required && !formularioIngresoEgreso.controls.cuenta.pristine" class="alert alert-danger">
                                    Cuenta es requerido
                                </div>

                            </div>
                        </dt>

                        <dt class="col-sm-12">
                            <div class="form-group" id="cheque" style='display:none;'>
                                Número de Cheque
                                <font color="red">*</font>
                                <input type="text" formControlName="cheque" class="form-control" id="cheque">
                                <div *ngIf="formularioIngresoEgreso.controls.cheque.errors?.required && !formularioIngresoEgreso.controls.cheque.pristine" class="alert alert-danger">
                                    Número de Cheque es requerido
                                </div>

                            </div>
                        </dt>

                        <dt class="col-sm-12">
                            <div class="form-group" id="caja" style='display:none;'>
                                Caja
                                <font color="red">*</font>
                                <autocomplete-generic (onIdSelected)="onSelectedTCaja($event)" entidad='caja' [enabled]="true" textplaceholder='Buscar...' #autocompleteTCaja></autocomplete-generic>

                                <!--<input type="text" formControlName="caja" class="form-control" id="caja">-->
                                <div *ngIf="formularioIngresoEgreso.controls.caja.errors?.required && !formularioIngresoEgreso.controls.caja.pristine" class="alert alert-danger">
                                    Caja es requerido
                                </div>

                            </div>
                        </dt>

                    </dl>





                    <table class="table table-striped table-vcenter table-bordered tableDatosGenerales" id="tablainventario">
                        <thead class="">

                            <tr class="bor_inf">
                                <th>
                                    Concepto
                                </th>
                                <th>
                                    Clave del producto
                                </th>
                                <th>
                                    Cantidad
                                </th>
                                <th>
                                    Agregar a tu inventario
                                </th>
                            </tr>
                        </thead>
                        <tbody class="tableDatosGenerales">
                            <tr class="bor">

                                <td scope="row">1</td>
                                <td>2</td>
                                <td>3</td>
                                <td>4</td>

                            </tr>
                        </tbody>
                    </table>
                    <hr>

                    <div class="reveal-if-active">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    Archivo XML
                                    <font color="red" *ngIf="this.ischeck == 1">*</font>
                                    <br>
                                    <div id="dZUploadXML" class="dropzone">
                                        <div class="dz-default dz-message"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    Archivo PDF (opcional)
                                    <div id="dZUploadPDF" class="dropzone">
                                        <div class="dz-default dz-message"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-option" data-dismiss="modal">Cancelar </button>
                    <button type="submit" class="btn btn-colorblue" [disabled]="!formularioIngresoEgreso.valid">{{!inventario?'Guardar':'Siguiente'}}</button>
                </div>
            </form>
        </div>
    </div>
</div>


<!--MODAL AGREGAR/EDITAR OTRO EGRESO-->
<!--div class="modal fade" id="OtrosEgresos" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title" id="exampleModalLabel">Agregar otro egreso</h1>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <form [formGroup]="formularioIngresoEgreso" (ngSubmit)="onSubmitEgresos()" novalidate>
                <div class="modal-body">
                    <hr>
                    <dl class="row">
                        <dt class="col-sm-12">
                            <div class="form-group">
                                Tipo de Comprobante
                                <font color="red">*</font>
                            </div>
                        </dt>

                        <dt class="col-sm-12">
                            <div class="form-group">
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="form-check-input" type="radio" name="otrosEgresostp" id="otrosEgresostp" (change)="otrosEgresos('prestamo')"
                                            checked> Préstamos
                                    </label>
                                    <br>
                                    <label class="form-check-label">
                                        <input class="form-check-input" type="radio" name="otrosEgresostp" id="otrosEgresostp" (change)="otrosEgresos('anticipos')"> Anticipos
                                    </label>
                                    <br>
                                    <label class="form-check-label">
                                        <input class="form-check-input" type="radio" name="otrosEgresostp" id="otrosEgresostp" (change)="otrosEgresos('impuestos')"> Impuestos
                                    </label>
                                    <br>
                                    <label class="form-check-label">
                                        
                                        <input class="form-check-input" type="radio" name="otrosEgresostp" id="otrosEgresostp" (change)="otrosEgresos('intereses')"> Intereses/Comisiones
                                    </label>
                                </div>
                            </div>
                        </dt>

                        <dt class="col-sm-12">
                            <div class="form-group">
                                Fecha
                                <font color="red">*</font>
                                <input type="date" formControlName="fecha" class="form-control" id="fecha" >
                                <div *ngIf="formularioIngresoEgreso.controls.fecha.errors?.required && !formularioIngresoEgreso.controls.fecha.pristine"
                                    class="alert alert-danger">
                                    Fecha es requerido
                                </div>
                            </div>
                        </dt>

                        <dt class="col-sm-12">
                            <div class="form-group">
                                Monto
                                <font color="red">*</font>
                                <input type="text" formControlName="total" class="form-control" id="total" >
                                <div *ngIf="formularioIngresoEgreso.controls.total.errors?.required && !formularioIngresoEgreso.controls.total.pristine"
                                    class="alert alert-danger">
                                    Monto es requerido
                                </div>
                            </div>
                        </dt>

                        <dt class="col-sm-12">
                            <div class="form-group">
                                Deudor (nómina)
                                <font color="red">*</font>
                                <input type="text" formControlName="nombreProveedor" class="form-control" id="nombreProveedor" >

                            </div>
                        </dt>

                        <dt class="col-sm-12">
                            <div class="form-group">
                                Concepto
                                <font color="red">*</font>
                                <input type="text" formControlName="concepto" class="form-control" id="concepto" >
                                <div *ngIf="formularioIngresoEgreso.controls.concepto.errors?.required && !formularioIngresoEgreso.controls.concepto.pristine"
                                    class="alert alert-danger">
                                    Concepto es requerido
                                </div>
                            </div>
                        </dt>

                        <dt class="col-sm-4">
                            <div class="form-group">
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="form-check-input" type="radio" name="tipoPago" id="tipoPago" (change)="tipoPago('transferencia')"> Transferencia
                                    </label>
                                </div>
                            </div>
                        </dt>
                        <dt class="col-sm-4">
                            <div class="form-group">
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="form-check-input" type="radio" name="tipoPago" id="tipoPago" (change)="tipoPago('cheque')"> Cheque
                                    </label>
                                </div>
                            </div>
                        </dt>

                        <dt class="col-sm-4">
                            <div class="form-group">
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="form-check-input" type="radio" name="tipoPago" id="tipoPago" (change)="tipoPago('efectivo')"> Efectivo
                                    </label>
                                </div>
                            </div>
                        </dt>


                        <dt class="col-sm-12" id="cuenta" style='display:none;'>
                            <div class="form-group">
                                Cuenta
                                <font color="red">*</font>
                                <input type="text" formControlName="cuenta" class="form-control" id="cuenta">
                                <div *ngIf="formularioIngresoEgreso.controls.cuenta.errors?.required && !formularioIngresoEgreso.controls.cuenta.pristine"
                                    class="alert alert-danger">
                                    Cuenta es requerido
                                </div>

                            </div>
                        </dt>

                        <dt class="col-sm-12">
                            <div class="form-group" id="cheque" style='display:none;'>
                                Número de Cheque
                                <font color="red">*</font>
                                <input type="text" formControlName="cheque" class="form-control" id="cheque">
                                <div *ngIf="formularioIngresoEgreso.controls.cheque.errors?.required && !formularioIngresoEgreso.controls.cheque.pristine"
                                    class="alert alert-danger">
                                    Número de Cheque es requerido
                                </div>

                            </div>
                        </dt>

                        <dt class="col-sm-12">
                            <div class="form-group" id="caja" style='display:none;'>
                                Caja
                                <font color="red">*</font>
                                <input type="text" formControlName="caja" class="form-control" id="caja">
                                <div *ngIf="formularioIngresoEgreso.controls.caja.errors?.required && !formularioIngresoEgreso.controls.caja.pristine" class="alert alert-danger">
                                    Caja es requerido
                                </div>

                            </div>
                        </dt>
                    </dl>
                    <hr>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-option" data-dismiss="modal">Cancelar</button>
                    <button type="submit" class="btn btn-colorblue" [disabled]="!formularioIngresoEgreso.valid">{{!ischeck?'Guardar':'Siguiente'}}</button>
                </div>
            </form>
        </div>
    </div>
</div-->

<!-- Modal_eliminar -->
<div class="modal fade" id="eliminar" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title" id="exampleModalLabel">Borrar Ingreso</h1>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                ¿Estás seguro de querer borrar el Egreso
                <!--{{entidad_elimar?.concepto.nombre}}-->?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-opcion btn-raised" data-dismiss="modal">Cancelar</button>
                <button type="button" (click)="removeEgreso(entidad_elimar?.id)" class="btn btn-colorblue btn-raised">Borrar</button>
            </div>
        </div>
    </div>
</div>
